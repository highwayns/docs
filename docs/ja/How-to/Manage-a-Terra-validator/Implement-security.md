# セキュリティ慣行を実装する

各バリデーター候補は、その操作を独立して実行することをお勧めします。多様な個人設定により、ネットワークの柔軟性が向上します。

## HSMを使用してデジタルキーを管理する

キー管理は検証者にとって非常に重要です。攻撃者が検証者の秘密鍵にアクセスした場合、検証者の委任された権利と利益全体が危険にさらされます。ハードウェアセキュリティモジュールは、このリスクを軽減するための重要な戦略です。

Iqulusionを介してこの[キー管理方法]（https://github.com/iqlusioninc/tmkms）を実装することを検討してください。

## DDoS攻撃に対する防御

ベリファイアは、ネットワークがサービス拒否攻撃に抵抗できることを確認する責任があります。

ベリファイアは、センチネルノードアーキテクチャでネットワークトポロジを慎重に構築することにより、これらの攻撃を軽減できます。

バリデーターノードは、信頼できる完全なノードにのみ接続する必要があります。それらは、同じバリデーターまたはそれらが知っている他のバリデーターによって実行できます。バリデーターノードは通常、データセンターで実行されます。ほとんどのデータセンターは、主要なクラウドプロバイダーへの直接リンクを提供します。検証者はこれらのリンクを使用して、クラウド内のセンチネルノードに接続できます。これにより、サービス拒否の負担が検証者のノードからセンチネルノードに直接転送されます。これには、既存のセンチネルノードへの攻撃を軽減するために、新しいセンチネルノードを開始またはアクティブ化する必要がある場合があります。

セントリーノードは、すぐに起動したり、IPアドレスを変更するために使用したりできます。センチネルノードへのリンクはプライベートIPスペースにあるため、インターネットベースの攻撃が直接干渉することはありません。これにより、バリデーターブロックの提案と投票が常にネットワークの残りの部分に届くようになります。

[センチネルノードアーキテクチャ]（https://forum.cosmos.network/t/sentry-node-architecture-overview/454）の詳細をご覧ください。

1.バリデーターノードの場合、 `config.toml`を編集します。

```bash
# Comma separated list of nodes to keep persistent connections to
# Do not add private peers to this list if you don't want them advertised
persistent_peers =[list of sentry nodes]

# Set true to enable the peer-exchange reactor
pex = false
```

2.センチネルノードの場合は、 `config.toml`を編集します。 

```bash
# Comma separated list of peer IDs to keep private (will not be gossiped to other peers)
private_peer_ids = "ipaddress of validator nodes"
```

## 環境変数

デフォルトでは、次のプレフィックスが付いた大文字の環境変数が小文字のコマンドラインフラグに置き換わります。

-`TE` \（Terraロゴ用\）
-`TM` \（テンダーミントのロゴ用\）
-`BC` \（democliまたはbasecliフラグ用\）

たとえば、環境変数「TE_CHAIN_ID」はコマンドラインフラグ「--chain-id」にマップされます。 明示的なコマンドラインフラグは環境変数よりも優先されますが、環境変数はどの構成ファイルよりも優先されます。 したがって、CLIでキーパラメータをフラグとして定義するため、または環境変数の変更を防ぐために、環境をロックダウンする必要があります。